(function(e){function t(t){for(var i,s,r=t[0],l=t[1],c=t[2],m=0,u=[];m<r.length;m++)s=r[m],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&u.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(i=!1)}i&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var i={},n={app:0},o=[];function s(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=i,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(a,i,function(t){return e[t]}.bind(null,i));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1bbe":function(e,t,a){},4286:function(e,t,a){"use strict";var i=a("1bbe"),n=a.n(i);n.a},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("v-toolbar-title",[e._v("Scavenger Hunt")]),a("div",{staticClass:"flex-grow-1"}),a("div",[e._v("Group 17")])],1),a("v-navigation-drawer",{attrs:{app:"","mini-variant.sync":"true"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{nav:""}},[a("v-subheader",[e._v("Welcome")]),e._l(e.links,(function(t,i){return a("v-list-item",{key:i,attrs:{link:"",to:{name:t.to}}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.name))])],1)],1)})),a("v-subheader",[e._v("Admin")]),e._l(e.adminLinks,(function(t,i){return a("v-list-item",{key:i+e.links.length,attrs:{link:"",to:{name:t.to}}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.name))])],1)],1)}))],2)],1),a("v-content",[a("v-container",{staticStyle:{width:"100%",height:"100%"},attrs:{fluid:""}},[a("router-view",{staticStyle:{width:"100%",height:"100%"}})],1)],1),a("v-footer",{attrs:{app:""}})],1)},o=[],s={name:"App",components:{},data:()=>({drawer:!1,links:[{name:"Map",to:"map",icon:"mdi-google-maps"},{name:"Settings",to:"settings",icon:"mdi-tune"},{name:"About",to:"about",icon:"mdi-information-outline"},{name:"Games",to:"games",icon:"mdi-gamepad"}],adminLinks:[{name:"Game Manager",to:"admin-games",icon:"mdi-calendar"},{name:"Location Manager",to:"admin-locations",icon:"mdi-crosshairs-gps"}]}),created(){this.$store.dispatch("updateLocations")}},r=s,l=a("2877"),c=a("6544"),d=a.n(c),m=a("7496"),u=a("40dc"),v=a("5bc1"),p=a("a523"),h=a("a75b"),f=a("553a"),g=a("132d"),b=a("8860"),_=a("da13"),L=a("5d23"),y=a("34c3"),x=a("f774"),k=a("e0c7"),w=a("2a7f"),V=Object(l["a"])(r,n,o,!1,null,null,null),G=V.exports;d()(V,{VApp:m["a"],VAppBar:u["a"],VAppBarNavIcon:v["a"],VContainer:p["a"],VContent:h["a"],VFooter:f["a"],VIcon:g["a"],VList:b["a"],VListItem:_["a"],VListItemContent:L["a"],VListItemIcon:y["a"],VListItemTitle:L["c"],VNavigationDrawer:x["a"],VSubheader:k["a"],VToolbarTitle:w["a"]});var C=a("8c4f"),E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("GmapMap",{staticStyle:{width:"100%",height:"300px"},attrs:{id:"map",center:e.playerPosition,zoom:16,options:{minZoom:18,maxZoom:20,zoomControl:!1,streetViewControl:!1,clickableIcons:!1,styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]},"map-type-id":"roadmap"}},[a("GmapCircle",{attrs:{center:e.playerPosition,radius:10,options:{strokeColor:"#03b2ff",strokeOpacity:.5,fillOpacity:.2}}}),a("GmapCircle",{attrs:{center:e.playerPosition,radius:2,options:{strokeOpacity:0,fillColor:"#03b2ff",fillOpacity:.9}}}),e._l(e.locations,(function(t,i){return a("GmapMarker",{key:i,attrs:{position:{lat:t.lat,lng:t.lon},title:t.name,clickable:""},on:{click:function(a){return e.selectLocation(t)}}})})),a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-text",{staticClass:"mx-auto"},[a("location-card-text",e._b({},"location-card-text",e.selectedLocation,!1))],1),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{disabled:!e.enableVisitButton},on:{click:function(t){return e.visit()}}},[e._v("Visit")]),a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("OK")])],1)],1)],1)],2)},O=[],S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{staticClass:"display-2 text--primary"},[e._v(e._s(e.name))]),a("p",{staticClass:"headline"},[e._v(e._s(e.summary))]),a("p",{staticClass:"text--primary"},[e._v(e._s(e.description))])])},N=[],P={props:["name","summary","description"]},j=P,I=Object(l["a"])(j,S,N,!1,null,null,null),$=I.exports,A=a("2f62"),T=a("92e0"),M=a.n(T);let J;const D=e=>{e&&console.error(e),clearInterval(J)};var q={name:"ScavengerMap",components:{LocationCardText:$},data:()=>{return{playerPosition:{lat:10,lng:10},dialog:!1,selectedLocation:null}},mounted(){this.$store.dispatch("updateLocations"),navigator.geolocation?(navigator.geolocation.getCurrentPosition(this.updatePosition,D),J=setInterval(()=>navigator.geolocation.getCurrentPosition(this.updatePosition,D),1e3)):alert("Your device does not support geolocation services.")},beforeDestroy(){D()},methods:{updatePosition(e){this.playerPosition.lat=e.coords.latitude,this.playerPosition.lng=e.coords.longitude},selectLocation(e){this.selectedLocation=e,this.dialog=!0},visit(){this.$store.commit("markVisited",this.selectedLocation),this.dialog=!1}},computed:{...Object(A["c"])({locations:"getMyLocations"}),enableVisitButton:function(){if(!this.selectedLocation||!this.playerPosition)return!1;console.log("finding haversine");let e=M()({latitude:this.playerPosition.lat,longitude:this.playerPosition.lng},{latitude:this.selectedLocation.lat,longitude:this.selectedLocation.lon},{unit:"meter"});return console.log(e),e<10}}},B=q,F=(a("4286"),a("8336")),H=a("b0af"),R=a("99d9"),U=a("169a"),W=a("ce7e"),K=Object(l["a"])(B,E,O,!1,null,"e7f1702e",null),z=K.exports;d()(K,{VBtn:F["a"],VCard:H["a"],VCardActions:R["a"],VCardText:R["b"],VDialog:U["a"],VDivider:W["a"]});var Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("Settings Here")])},Z=[],Q={name:"Settings"},X=Q,ee=Object(l["a"])(X,Y,Z,!1,null,"0a831bb7",null),te=ee.exports,ae=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ie=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Scavenger Hunt")]),a("br"),a("p",[e._v("\n    Welcome to the ultimate exploration game for the season! This online\n    multiplayer game lets players interact with their environments in a new\n    way. Players navigate the real world, stopping by landmarks to receive\n    awards. The game can be played in single player or multiplayer mode. The\n    player to solve all the riddles in the shortest time will be declared\n    winner. Reach all the landmarks in the shortest possible time to be\n    declared as the winner.\n  ")]),a("br"),a("h1",[e._v("Contributors")]),a("p",[e._v("Group 17: Jake TerHark, Rishi Raj, Smit Patel, Cole Cunningham")]),a("p")])}],ne={name:"About"},oe=ne,se=Object(l["a"])(oe,ae,ie,!1,null,"83cb9d60",null),re=se.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticClass:"headline"},[e._v("Active Games")]),a("v-divider"),a("br"),a("v-expansion-panels",{attrs:{inset:"",multiple:"",focusable:""}},e._l(e.activeGames,(function(t,i){return a("v-expansion-panel",{key:i},[a("v-expansion-panel-header",[a("div",[a("v-progress-circular",{attrs:{rotate:-90,value:e.getLocations(t.game_id).length/t.locations.length*100,color:"green darken"}}),e._v("\n            "+e._s(t.name)+"\n        ")],1)]),a("v-expansion-panel-content",[a("v-list",{attrs:{rounded:""}},e._l(e.getGameLocations(t.game_id),(function(i,n){return a("v-list-item",{key:n,attrs:{disabled:!e.getLocations(t.game_id).some((function(e){return e.id===i.id}))},on:{click:function(a){e.getLocations(t.game_id).some((function(e){return e.id===i.id}))&&e.setLocation(i.id)}}},[a("v-list-item-icon",[e.getLocations(t.game_id).some((function(e){return e.id===i.id}))?a("v-icon",{attrs:{color:"green darken"}},[e._v("mdi-check\n              ")]):a("v-icon",{attrs:{color:"red darken"}},[e._v("mdi-close")])],1),a("v-list-item-content",[e._v("\n              "+e._s(i.name)+"\n            ")])],1)})),1),a("v-btn",{attrs:{block:"",color:"red darker",rounded:"",outlined:""},on:{click:function(a){return e.leaveGame({id:t.game_id})}}},[e._v("Leave")])],1)],1)})),1),a("br"),a("span",{staticClass:"headline"},[e._v("Stale Games")]),a("v-divider"),a("br"),a("v-expansion-panels",{attrs:{inset:"",multiple:"",focusable:""}},e._l(e.inactiveGames,(function(t,i){return a("v-expansion-panel",{key:i},[a("v-expansion-panel-header",[a("div",[a("v-progress-circular",{attrs:{rotate:-90,value:e.getLocations(t.game_id).length/t.locations.length*100,color:"green darken"}}),e._v("\n            "+e._s(t.name)+"\n        ")],1)]),a("v-expansion-panel-content",[a("v-list",{attrs:{rounded:""}},e._l(e.getGameLocations(t.game_id),(function(i,n){return a("v-list-item",{key:n,attrs:{disabled:!e.getLocations(t.game_id).some((function(e){return e.id===i.id}))},on:{click:function(a){e.getLocations(t.game_id).some((function(e){return e.id===i.id}))&&e.setLocation(i.id)}}},[a("v-list-item-icon",[e.getLocations(t.game_id).some((function(e){return e.id===i.id}))?a("v-icon",{attrs:{color:"green darken"}},[e._v("mdi-check\n              ")]):a("v-icon",{attrs:{color:"red darken"}},[e._v("mdi-close")])],1),a("v-list-item-content",[e._v("\n              "+e._s(i.name)+"\n            ")])],1)})),1),a("v-btn",{attrs:{block:"",color:"red darker",rounded:"",outlined:""},on:{click:function(a){return e.leaveGame({id:t.game_id})}}},[e._v("Leave")])],1)],1)})),1),a("br"),a("games"),a("v-dialog",{attrs:{width:"500"},model:{value:e.showInfo,callback:function(t){e.showInfo=t},expression:"showInfo"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary darken-2",attrs:{"primary-title":""}},[e._v("\n        "+e._s(e.selectedLocation.name)+"\n      ")]),a("v-card-text",[a("br"),e._v("\n        "+e._s(e.selectedLocation.description)+"\n      ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.showInfo=!1}}},[e._v("\n          OK\n        ")])],1)],1)],1)],1)},ce=[],de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{staticClass:"headline"},[e._v("Available Games")]),a("v-divider"),a("br"),a("v-list",{attrs:{rounded:""}},e._l(e.games,(function(t,i){return a("div",{key:i},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.name))]),a("v-list-item-subtitle",[e._v("\n            Created by "+e._s(t.created_by)+"\n          ")]),a("v-list-item-subtitle",[t.active?a("span",[e._v("\n              In Progress...\n            ")]):a("span",[e._v("\n              Not Started\n            ")])])],1),a("v-list-item-action",[a("v-btn",{attrs:{color:"primary",rounded:"",outlined:""},on:{click:function(a){return e.joinGame({id:t.game_id})}}},[e._v("\n            + Join\n          ")])],1)],1),i!==e.games.length-1?a("v-divider"):e._e()],1)})),0)],1)},me=[],ue={name:"Games",computed:{...Object(A["c"])({games:"getAvailableGames"})},methods:{...Object(A["b"])(["joinGame"])}},ve=ue,pe=a("1800"),he=Object(l["a"])(ve,de,me,!1,null,"7cf4e3a2",null),fe=he.exports;d()(he,{VBtn:F["a"],VDivider:W["a"],VList:b["a"],VListItem:_["a"],VListItemAction:pe["a"],VListItemContent:L["a"],VListItemSubtitle:L["b"],VListItemTitle:L["c"]});var ge={name:"MyGames",components:{Games:fe},data:()=>({selectedLocation:{},showInfo:!1}),methods:{...Object(A["b"])(["leaveGame"]),getGameLocations:function(e){return this.$store.getters.getGameLocations(e)},setLocation:function(e){this.selectedLocation=this.$store.getters.getLocation(e),console.log(e),console.log(this.selectedLocation),this.showInfo=!0}},computed:{...Object(A["c"])({games:"getMyGames",getLocations:"getVisitedGameLocations"}),activeGames(){return console.log(this.games),this.games.filter(e=>e.active)},inactiveGames(){return this.games.filter(e=>!e.active)}}},be=ge,_e=a("cd55"),Le=a("49e2"),ye=a("c865"),xe=a("0393"),ke=a("490a"),we=a("2fa4"),Ve=Object(l["a"])(be,le,ce,!1,null,"4e67c948",null),Ge=Ve.exports;d()(Ve,{VBtn:F["a"],VCard:H["a"],VCardActions:R["a"],VCardText:R["b"],VCardTitle:R["c"],VDialog:U["a"],VDivider:W["a"],VExpansionPanel:_e["a"],VExpansionPanelContent:Le["a"],VExpansionPanelHeader:ye["a"],VExpansionPanels:xe["a"],VIcon:g["a"],VList:b["a"],VListItem:_["a"],VListItemContent:L["a"],VListItemIcon:y["a"],VProgressCircular:ke["a"],VSpacer:we["a"]});var Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-expansion-panels",{attrs:{popout:""}},e._l(e.games,(function(t,i){return a("v-expansion-panel",{key:i},[a("v-expansion-panel-header",{staticClass:"headline"},[e._v("\n        "+e._s(t.name)+"\n      ")]),a("v-expansion-panel-content",[a("v-divider"),a("br"),e._v("\n        Status: "+e._s(t.active?"Active":"Inactive")+" "),a("br"),a("br"),e._v("\n        Required Landmarks\n        "),a("v-list",e._l(e.getLocationsFromId(t.locations),(function(t,i){return a("v-list-item",{key:i},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.name))]),a("v-list-item-subtitle",[e._v(e._s(t.description))])],1)],1)})),1),e._v("\n        Created By "+e._s(t.created_by)),a("br"),a("br"),a("v-divider"),a("br"),a("v-btn",{attrs:{color:"blue darker",text:"",rounded:"",outlined:""},on:{click:function(a){return e.editGame(t.game_id)}}},[e._v("\n          Edit\n        ")])],1)],1)})),1),a("br"),a("v-btn",{attrs:{block:"",text:"",rounded:"",color:"blue darker"},on:{click:e.displayNew}},[e._v("\n    + New\n  ")]),a("v-dialog",{attrs:{width:"500",persistent:""},model:{value:e.showEdit,callback:function(t){e.showEdit=t},expression:"showEdit"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary darken-2",attrs:{"primary-title":""}},[e._v("\n        Edit Game\n      ")]),a("v-card-text",[a("br"),null!==e.selectedGame?a("v-form",{ref:"form"},[a("v-text-field",{attrs:{outlined:"",label:"Name",required:""},model:{value:e.selectedGame.name,callback:function(t){e.$set(e.selectedGame,"name",t)},expression:"selectedGame.name"}}),a("v-switch",{attrs:{label:"Active",inset:""},model:{value:e.selectedGame.active,callback:function(t){e.$set(e.selectedGame,"active",t)},expression:"selectedGame.active"}}),a("span",[e._v("Locations")]),e._l(e.locations,(function(t,i){return a("v-checkbox",{key:i,attrs:{label:t.name,value:t.id},model:{value:e.selectedGame.locations,callback:function(t){e.$set(e.selectedGame,"locations",t)},expression:"selectedGame.locations"}})}))],2):e._e()],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darker",text:""},on:{click:e.cancelEdit}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.commitEdit}},[e._v("\n          OK\n        ")])],1)],1)],1),a("v-dialog",{attrs:{width:"500",persistent:""},model:{value:e.showNew,callback:function(t){e.showNew=t},expression:"showNew"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary darken-2",attrs:{"primary-title":""}},[e._v("\n        Create Game\n      ")]),a("v-card-text",[a("br"),null!==e.selectedGame?a("v-form",{ref:"form"},[a("v-text-field",{attrs:{outlined:"",label:"Name",required:""},model:{value:e.selectedGame.name,callback:function(t){e.$set(e.selectedGame,"name",t)},expression:"selectedGame.name"}}),a("v-switch",{attrs:{label:"Active",inset:""},model:{value:e.selectedGame.active,callback:function(t){e.$set(e.selectedGame,"active",t)},expression:"selectedGame.active"}}),a("span",[e._v("Locations")]),e._l(e.locations,(function(t,i){return a("v-checkbox",{key:i,attrs:{label:t.name,value:t.id},model:{value:e.selectedGame.locations,callback:function(t){e.$set(e.selectedGame,"locations",t)},expression:"selectedGame.locations"}})}))],2):e._e()],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darker",text:""},on:{click:e.cancelEdit}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.newGame}},[e._v("\n          Create\n        ")])],1)],1)],1)],1)},Ee=[],Oe={name:"AllGames",data:()=>({selectedGame:{},showEdit:!1,showNew:!1}),methods:{...Object(A["b"])(["alterGame","createGame"]),editGame:function(e){let t=this.games.filter(t=>t.game_id===e)[0];this.selectedGame=JSON.parse(JSON.stringify(t)),this.showEdit=!0},cancelEdit:function(){this.selectedGame={},this.showEdit=!1,this.showNew=!1},commitEdit:function(){this.alterGame({game:JSON.parse(JSON.stringify(this.selectedGame))}),this.selectedGame=null,this.showEdit=!1},displayNew:function(){this.selectedGame={name:"",active:!1,locations:[]},this.showNew=!0},newGame:function(){console.log(this.selectedGame),this.createGame({game:JSON.parse(JSON.stringify(this.selectedGame))}),this.selectedGame=null,this.showNew=!1}},computed:{...Object(A["c"])({games:"getAllGames",locations:"getLocations"}),getLocationsFromId(){return e=>{return this.locations.filter(t=>e.includes(t.id))}}}},Se=Oe,Ne=a("ac7c"),Pe=a("4bd4"),je=a("b73d"),Ie=a("8654"),$e=Object(l["a"])(Se,Ce,Ee,!1,null,"041ac59e",null),Ae=$e.exports;d()($e,{VBtn:F["a"],VCard:H["a"],VCardActions:R["a"],VCardText:R["b"],VCardTitle:R["c"],VCheckbox:Ne["a"],VDialog:U["a"],VDivider:W["a"],VExpansionPanel:_e["a"],VExpansionPanelContent:Le["a"],VExpansionPanelHeader:ye["a"],VExpansionPanels:xe["a"],VForm:Pe["a"],VList:b["a"],VListItem:_["a"],VListItemContent:L["a"],VListItemSubtitle:L["b"],VListItemTitle:L["c"],VSpacer:we["a"],VSwitch:je["a"],VTextField:Ie["a"]});var Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-expansion-panels",{attrs:{popout:""}},e._l(e.locations,(function(t,i){return a("v-expansion-panel",{key:i},[a("v-expansion-panel-header",{staticClass:"headline"},[e._v(e._s(t.name)),a("v-flex")],1),a("v-expansion-panel-content",[e._v("\n        "+e._s(t.description)+"\n        "),a("br"),a("br"),e._v("\n        @("+e._s(t.lat)+", "+e._s(t.lon)+") "),a("br"),a("br"),a("v-btn",{attrs:{color:"blue darker",text:""},on:{click:function(a){return e.edit(t.id)}}},[e._v("Edit")]),a("v-btn",{attrs:{color:"blue darker",text:""},on:{click:function(a){return e.removeLocation({location:t})}}},[e._v("\n          Delete\n        ")])],1)],1)})),1),a("br"),a("v-btn",{attrs:{block:"",text:"",rounded:"",color:"blue darker"},on:{click:e.newLocation}},[e._v("\n    + New\n  ")]),a("v-dialog",{attrs:{width:"500",persistent:""},model:{value:e.showEdit,callback:function(t){e.showEdit=t},expression:"showEdit"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary darken-2",attrs:{"primary-title":""}},[e._v("\n        Edit Location\n      ")]),a("v-card-text",[a("br"),null!==e.selectedLocation?a("v-form",{ref:"form"},[a("v-text-field",{attrs:{outlined:"",label:"Name",required:""},model:{value:e.selectedLocation.name,callback:function(t){e.$set(e.selectedLocation,"name",t)},expression:"selectedLocation.name"}}),a("v-text-field",{attrs:{outlined:"",label:"Description",required:""},model:{value:e.selectedLocation.description,callback:function(t){e.$set(e.selectedLocation,"description",t)},expression:"selectedLocation.description"}}),a("v-text-field",{attrs:{outlined:"",label:"Latitude",required:"",type:"number"},model:{value:e.selectedLocation.lat,callback:function(t){e.$set(e.selectedLocation,"lat",t)},expression:"selectedLocation.lat"}}),a("v-text-field",{attrs:{outlined:"",label:"Longitude",required:"",type:"number"},model:{value:e.selectedLocation.lon,callback:function(t){e.$set(e.selectedLocation,"lon",t)},expression:"selectedLocation.lon"}})],1):e._e()],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darker",text:""},on:{click:e.cancelEdit}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.commitEdit}},[e._v("\n          OK\n        ")])],1)],1)],1),a("v-dialog",{attrs:{width:"500",persistent:""},model:{value:e.showNew,callback:function(t){e.showNew=t},expression:"showNew"}},[a("v-card",[a("v-card-title",{staticClass:"headline primary darken-2",attrs:{"primary-title":""}},[e._v("\n        New Location\n      ")]),a("v-card-text",[a("br"),null!==e.selectedLocation?a("v-form",{ref:"form"},[a("v-text-field",{attrs:{outlined:"",label:"Name",required:""},model:{value:e.selectedLocation.name,callback:function(t){e.$set(e.selectedLocation,"name",t)},expression:"selectedLocation.name"}}),a("v-text-field",{attrs:{outlined:"",label:"Description",required:""},model:{value:e.selectedLocation.description,callback:function(t){e.$set(e.selectedLocation,"description",t)},expression:"selectedLocation.description"}}),a("v-text-field",{attrs:{outlined:"",label:"Latitude",required:"",type:"number"},model:{value:e.selectedLocation.lat,callback:function(t){e.$set(e.selectedLocation,"lat",t)},expression:"selectedLocation.lat"}}),a("v-text-field",{attrs:{outlined:"",label:"Longitude",required:"",type:"number"},model:{value:e.selectedLocation.lon,callback:function(t){e.$set(e.selectedLocation,"lon",t)},expression:"selectedLocation.lon"}})],1):e._e()],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darker",text:""},on:{click:e.cancelEdit}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.commitNew}},[e._v("\n          Create\n        ")])],1)],1)],1)],1)},Me=[],Je={name:"Locations",data:()=>({showEdit:!1,showNew:!1,selectedLocation:null}),methods:{...Object(A["b"])(["updateLocation","addLocation","removeLocation"]),edit:function(e){this.selectedLocation=JSON.parse(JSON.stringify(this.locations.filter(t=>t.id===e)[0])),this.showEdit=!0},cancelEdit:function(){this.showEdit=!1,this.showNew=!1,this.selectedLocation=null},commitEdit:function(){this.updateLocation({location:JSON.parse(JSON.stringify(this.selectedLocation))}),this.selectedLocation=null,this.showEdit=!1},commitNew:function(){this.addLocation({location:JSON.parse(JSON.stringify(this.selectedLocation))}),this.selectedLocation=null,this.showNew=!1},newLocation:function(){this.selectedLocation={name:"",description:"",latitude:0,longitude:0},this.showNew=!0}},computed:{...Object(A["c"])({locations:"getLocations"})}},De=Je,qe=a("0e8f"),Be=Object(l["a"])(De,Te,Me,!1,null,"45c5a40b",null),Fe=Be.exports;d()(Be,{VBtn:F["a"],VCard:H["a"],VCardActions:R["a"],VCardText:R["b"],VCardTitle:R["c"],VDialog:U["a"],VDivider:W["a"],VExpansionPanel:_e["a"],VExpansionPanelContent:Le["a"],VExpansionPanelHeader:ye["a"],VExpansionPanels:xe["a"],VFlex:qe["a"],VForm:Pe["a"],VSpacer:we["a"],VTextField:Ie["a"]}),i["a"].use(C["a"]);var He=new C["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:z},{path:"/map",name:"map",component:z},{path:"/settings",name:"settings",component:te},{path:"/about",name:"about",component:re},{path:"/games",name:"games",component:Ge},{path:"/admin/games",name:"admin-games",component:Ae},{path:"/admin/locations",name:"admin-locations",component:Fe}]});const Re=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_URL||"https://api.jterhark.dev";async function Ue(){return fetch(Re+"/landmarks",{method:"GET",mode:"cors"}).then(e=>{if(!e.ok){const t=new Error("Response not ok");throw t.response=e,t}return e.json()}).then(e=>e)}i["a"].use(A["a"]);var We=new A["a"].Store({state:{locations:[],visited:[{game_id:3,visited:[9,12]},{game_id:4,visited:[14]},{game_id:1,visited:[6,15]},{game_id:2,visited:[]}],games:[{game_id:1,name:"Test Hunt",created_by:"jterha2",locations:[6,10,15],players:[100],active:!0},{game_id:2,name:"Another Hunt",created_by:"bob",locations:[7,8],players:[100],active:!1},{game_id:3,name:"Super What",created_by:"jterha2",active:!0,players:[100],locations:[9,11,12]},{game_id:4,name:"ASDF",created_by:"jterha2",active:!1,players:[100],locations:[13,14]}],player_id:100},mutations:{setLocations(e,t){e.locations=t},markVisited(e,t){console.log(t.id);let a=e.games.filter(e=>e.locations.includes(t.id)).map(e=>e.game_id);for(const i of e.visited)a.includes(i.game_id)&&(i.visited.includes(t.id)||i.visited.push(t.id))},moveToMyGames(e,t){e.visited.some(e=>e.game_id===t)||e.visited.push({game_id:t,visited:[]});let a=e.games.filter(e=>e.game_id===t)[0];a.players.push(e.player_id)},moveOutOfMyGames(e,t){let a=e.games.filter(e=>e.game_id===t)[0],i=a.players.indexOf(e.player_id);a.players.splice(i,1)},pushLocation(e,t){e.locations.push(t)},deleteLocation(e,t){console.log(t);let a=e.locations.findIndex(e=>e.id===t);console.log(a),e.locations.splice(a,1)},pushGame(e,t){e.games.push(t)},updateGame(e,t){let a=e.games.findIndex(e=>e.game_id===t.game_id);e.games.splice(a,1),e.games.push(t)},updateLocations(e,t){e.locations=t}},actions:{updateLocations({commit:e}){Ue().then(t=>e("updateLocations",t))},joinGame({commit:e},{id:t}){e("moveToMyGames",t)},leaveGame({commit:e},{id:t}){e("moveOutOfMyGames",t)},addLocation({commit:e,getters:t},{location:a}){console.log(t),a.id=2*t.getLocations.length,e("pushLocation",a)},removeLocation({commit:e},{location:t}){e("deleteLocation",t.id)},updateLocation({commit:e},{location:t}){e("deleteLocation",t.id),e("pushLocation",t)},createGame({commit:e,getters:t},{game:a}){a.game_id=t.getGames.length+1,a.created_by="jterha2",a.players=[],e("pushGame",a)},alterGame({commit:e},{game:t}){e("updateGame",t)}},getters:{getLocations:e=>{return e.locations},getMyLocations:e=>{let t=e.games.filter(t=>t.players.includes(e.player_id));const a=[];for(const i of t){const t=e.visited.filter(e=>e.game_id===i.game_id)[0].visited;for(const e of i.locations)t.includes(e)||a.push(e)}return e.locations.filter(e=>a.includes(e.id))},getVisited:e=>{return e.visited},getGames:e=>e.games,getMyGames:e=>e.games.filter(t=>t.players.includes(e.player_id)),getVisitedGameLocations:e=>t=>{let a=e.visited.filter(e=>e.game_id===t)[0];return a?e.locations.filter(e=>a.visited.includes(e.id)):[]},getGameLocations:e=>t=>{let a=e.games.filter(e=>e.game_id===t)[0];return e.locations.filter(e=>a.locations.includes(e.id))},getLocation:e=>t=>{return e.locations.filter(e=>e.id===t)[0]},getAllGames:e=>{return e.games.sort((e,t)=>{return e.name<t.name?-1:e.name>=t.name?1:void 0})},getAvailableGames:e=>{return e.games.filter(t=>!t.players.includes(e.player_id))}}}),Ke=a("f309");i["a"].use(Ke["a"]);var ze=new Ke["a"]({icons:{iconfont:"mdi"},theme:{themes:{dark:{accent:"#607D8B"}},dark:!0}}),Ye=a("755e");i["a"].config.productionTip=!1,i["a"].use(Ye,{load:{key:"AIzaSyC7AcY3dniWXQSWUiGyLqJJp4Ua3cRxa3c",libraries:"places"}}),new i["a"]({router:He,store:We,vuetify:ze,render:e=>e(G)}).$mount("#app")}});
//# sourceMappingURL=app.20a885fe.js.map